<!DOCTYPE html>
<html>
<head>
<title>Homies</title>
<link href="altstyle.css" rel="stylesheet" type="text/css"/>
<link href="logo.png" rel="SHORTCUT ICON">
</head>

<body>
	<table> 
		<tr colspan="3">
		<!-- Nav Bar -->
			<ul class="nav-bar"> <!-- Nav Links -->		

				<li><a href="homiesalt.html" class="active"><img id="logo" style="width=20px;" src="logo.png"/>Homies</a></li>
				<li><a href="homiesalt.html"> | </a></li>
				<li><a href="choresalt.html">Chores</a></li>
				<li><a href="finance.html">Finance</a></li>
				<li><a href="corkboard.html">Corkboard</a></li>
				<li><a href="sos.html">SOS</a></li>	
			</ul>
		</tr>
	</table>
	
	<div id="full-side">
	<!-- Side Panel -->	
		<table>
			<tr> <!-- Icon -->
				<td>
				<div id="top-left-panel">
					<table>
					<tr>
						<td>
							<img id="main-icon" src="icon-rg.png"/> 
						</td>
						<td>
							<h3>Rachel G.</h3>
							<span id="chore">Chore: Kitchen</span>
						</td>
					</tr>
					</table>
				</div>
				</td>
			</tr>					
			<tr> <!-- Info Panel-->
				<td>
				<div id="side-panel">
					<h2> Friday, October 18th </h2>
					<table>
						<tr>
							<td>
								<h4><a href "availability.html"> Availability </a></h4>
								<ul>
									<li> Joey's Car </li>
									<li> Phoebe's Cab </li>
									<li> Washer </li>
									<li> Dryer </li>
								</ul>
							</td>
							<td>
								<h4><a href "shopping.html"> Shopping </a></h4>
								<ul>	
									<li> swiffer pods </li>
									<li> red cups </li>
									<li> toilet paper </li>
									<li> detergent </li>										
								</ul>
							</td>
						</tr>
					</table>
					<br>
					<h2> Notes &amp; Reminders <button id="note_button"> + </button></h2>
					<ul id="note_list">
					</ul>
				</div>
				</td>					
			</tr>
		</table>	
	</div>
		
	<!-- Newsfeed -->
	<div id="newsfeed">
		<h3> Announcements <button id="a_button"> + </button> </h3>
			<ul id = "postToFeed">
			</ul>
			<div class="scroll_box">

			<ul id = "feed"> <!-- These are all li's with tables inside. It is one row with three columns
						Col 1: Icon, Col 2: Headline Col 3: Data
				 -->
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-mg.png"/></td><td><h3 class="headline">Cooking Dinner (7:30pm)</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/12</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>

					</table>
				</li>
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-pb.png"/></td><td><h3 class="headline">Rent due ($650)</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/05</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>
					</table>
				</li>
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-pb.png"/></td><td><h3 class="headline">Frank coming to visit for the weekend</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/12</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>
					</table>
				</li>
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-mg.png"/></td><td><h3 class="headline">Cable Due ($24.63)</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/12</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>
					</table>
				</li>
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-rg.png"/></td><td><h3 class="headline">Be quiet! Ralph Lauren interview (9am)</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/12</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>
					</table>
				</li>										
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-jt.png"/></td><td><h3 class="headline">Having a Days premiere part (8pm)</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/12</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>
					</table>
				</li>
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-cb.png"/></td><td><h3 class="headline">Fridge repairman coming (4pm)</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/12</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>
					</table>
				</li>
				<li>

					<table>
						<tr>
							<td>
								<img src="icon-mg.png"/></td><td><h3 class="headline">Electric Due ($24.43)</h3><h3>&#9663</h3>
							</td>
							<td>
								<h3 class="date">11/12</h3></td></tr><tr><td></td><td id="hidden-gone">
								<p>
No Description Given</p>
							</td>
						</tr>
						<tr><td></td><td><ul class='comment_list'></ul></td></tr>
						<tr>
							<td></td>
							<td><img src='icon-rg.png'/>
								<textarea id = 'comment' rows='2' cols = '40'></textarea>
								<button class='post_comment'>post</button>
							</td>
						</tr>
					</table>
				</li>				
			</ul>	
		</div>																	
	</div>

	<!-- Money management -->
	<div class="money-manager">
		<h3> Money Manager</h3>
		<div class="scroll_box">
			<ul>
				<li>
					<p> $20 <br> <span> You owe Monica for Dinner </span></p>
									
				</li>
				<li>
					<p> $650 <br> <span> Rent due in 2 days </span></p>					
				</li>
				<li>
					<p> $24.63 <br> <span> You owe Monica for Cable </span></p>				
				</li>
				<li>
					<p> $25 <br> <span> You owe Joey for Alcohol </span></p>				
				</li>	
				<li>
					<p> $23.33 <br> <span> You owe Monica for Electric </span></p>				
				</li>
				<li>
					<p> $100 <br> <span> You owe Ross for Losing a bet </span></p>				
				</li>																								
			</ul>
		</div>
	</div>
	
<script src="jquery-1.10.2.js"></script>
<script>
        $( document ).ready(function() {

                $('#feed li table tr:nth-child(2) td').hide();                        

                $("#note_button").click(function(event) {
                        var inputBox= $("<li>", {
                                html: "<input id=note_text></input>" +
                                "<button id = 'post' type = 'button'>post</button>"+
                                "<button id = 'cancel' type = 'button'>X</button>"
                                
                        });
                        inputBox.prependTo("#note_list");
                        $("#post").click(function(event) {
                            var usrInput = $('#note_text').val();

                            inputBox.html("<p>"+usrInput+"</p>");
                    });
                    $("#cancel").click(function(event) {
                            inputBox.remove();
                         });
                });
        
        $("#a_button").click(function(event) {
            $('#postToFeed').empty();

                var inputBox = $( "<li>", {
                
                            html: "<table><tr><td><img src='icon-rg.png'/></td>" +
                            
                            "<td><p>Title</p></td>" +
                            "<td><form><textarea id = 'a_text' rows='2' cols='10'></textarea></td></tr>" +
                            
                            "<tr><td></td><td>Description</td>" +
                            
                            "<td><form><textarea id = 'a_info' rows='4' cols = '50'></textarea></td></tr>" +
                            "<tr><td><button id = 'post' type = 'button'> post </button></td>" +
                            "<td><button id = 'cancel' type = 'button'> cancel </button></tr></table>"
                    });
                    
                    inputBox.prependTo('#postToFeed');
                    
                    
                    $("#post").click(function(event) {
                            var usrInput = $('#a_text').val();
                            
                            var descrip = $('#a_info').val();
                            if(!descrip){
                                    descrip = "No description given";
                            }
                            var d = new Date();
                                var month = d.getMonth()+1;
                                var day = d.getDate();
                                var output = (month<10 ? '0' : '') + month + '/' +
                                    (day<10 ? '0' : '') + day;


                                 $("#feed").prepend("<li><table><tr><td><img src='icon-rg.png'/></td><td><h3 class='headline'>" +
                                 
                                        usrInput + "</h3><h3>&#9663</h3></td><td><h3 class='date'>" + output + "</h3></td></tr><tr><td></td><td><p>" +
                                 
                                        descrip + "</p></td></tr>"+ 
                                        "<tr><td></td><td><ul class='comment_list'></ul></td></tr>"+
                                        "<tr><td></td><td><img src='icon-rg.png'/>"+
                                        "<textarea id = 'comment' rows='2' cols = '40'></textarea>"+
                                        "<button class='post_comment'>post</button></td></tr>"+
                                        "</table></li>");
                                 
                                        $("#feed li:nth-child(" + 1 + ") tr:nth-child(2) td").hide();
                                 
                                        $('#postToFeed').empty();

                                 
                         });
                         $("#cancel").click(function(event) {
                            $('#postToFeed').empty();
                         });
                 });
                 $('#feed').on('click', '.post_comment', function(event) {
                         var input = $(this).parent().find('textarea').val();
                         $(this).parent().parent().parent().find('.comment_list').prepend(
                                 "<li><img src='icon-rg.png'/>" + input + "</li>");
                         $(this).parent().find('textarea').val("");
                 });
                 $('#feed').on('click', 'li table tr:nth-child(1)', function() {
                 
                         var $this = $(this)
 
                         var $clicked = $this.parent().find('tr:nth-child(2) td');    
                         var $clickedArrow = $this.parent().find('tr:nth-child(1) td:nth-child(2) h3:nth-child(2)');                        
                    
                         
                         if ($clicked.is(":visible")) {
                                 
                                 $clicked.hide(); 
                                 $clickedArrow.html("&#9663");       

                         }
                         
                         else {
                                 
                                 $clicked.show();
                                 $clickedArrow.html("&#9659");       


                         
                         }
                         
                         
                 
                 });
    });
</script>
</body>
</html>